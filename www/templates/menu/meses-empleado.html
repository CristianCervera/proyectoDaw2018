<ion-view class="cuerpo" view-title="Meses">
    <ion-content>

        <div class="list listaempresas">

            <button class="button button-balanced nuevo" ng-click="openModal()">
                Añadir Mes
            </button>
            <button class="button button-outline button-positive editarEmpleado" ng-click="openModalEdit()">
                <i class="icon ion-compose"></i>
            </button>
            
            <div ng-repeat="yearObj in meses | orderBy: 'year':true track by $index">

                <div class="item item-divider empresa dividerYear">
                    {{yearObj.year}}
                </div>

                <a ng-repeat="mes in yearObj.monthList | orderBy: 'numMonth':true" class="item" ui-sref="home.meses-detail({id: {{mes.id}}})">
                    <div class="row">
                        <div class="col col-20"><span>{{mes.month}}</span></div>
                        <div class="col col-80"><span class="dayList {{day.horario}}" ng-repeat="day in mes.dayList">{{day.idDay}} </span></div>
                    </div>
                </a>

            </div>
        </div>

    </ion-content>
</ion-view>

<!-- VENTANA MODAL PARA AÑADIR MES -->
<script id="modalNuevoMes.html" type="text/ng-template">
    <div class="modal">
      <header class="bar bar-header bar-positive">
        <h1 class="title">Añadir Mes</h1>
        <div class="button button-clear" ng-click="modalNuevoMes.hide()"><span class="icon ion-close"></span></div>
      </header>
      <content has-header="true" padding="true">
        <div class="contenidomodal">

            <form>
                <div class="list">

                    <label class="item item-input">
                        <span class="input-label">Mes</span>
                        <select ng-model="mes.idMonth">
                            <option value="1">Enero</option>
                            <option value="2">Febrero</option>
                            <option value="3">Marzo</option>
                            <option value="4">Abril</option>
                            <option value="5">Mayo</option>
                            <option value="6">Junio</option>
                            <option value="7">Julio</option>
                            <option value="8">Agosto</option>
                            <option value="9">Septiembre</option>
                            <option value="10">Octubre</option>
                            <option value="11">Noviembre</option>
                            <option value="12">Diciembre</option>
                        </select>
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Año</span>
                        <input type="text" ng-model="mes.idYear">
                    </label>

                    <input class="button button-balanced botoneditar" type="button" value="Crear" ng-click="nuevoMes(mes)"/>
            
                </div>
            </form>

        </div>
      </content>
    </div>
</script>

<!-- VENTANA MODAL PARA EDITAR EMPLEADO -->

<script id="modal.html" type="text/ng-template">
    <div class="modal">
      <header class="bar bar-header bar-positive">
        <h1 class="title">{{empleado_nombre}}</h1>
        <div class="button button-clear" ng-click="modal.hide()"><span class="icon ion-close"></span></div>
      </header>
      <content has-header="true" padding="true">
        <div class="contenidomodal">

            <form>
                <div class="list">

                    
                    <label class="item item-input">
                        <span class="input-label">Compañia</span>
                        <select>
                            <option ng-repeat="compani in companies track by $index" value="{{compani.id}}">{{compani.name}}</option>
                        </select>
                    </label>
                        <label class="item item-input">
                    <span class="input-label">Empleado</span>
                        <input type="text" ng-model="empleado.name">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">NIF</span>
                        <input type="text" ng-model="empleado.nif">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Hora Entrada</span>
                        <input type="text" ng-model="empleado.inHour1">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Hora Salida</span>
                        <input type="text" ng-model="empleado.outHour1">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Hora Entrada</span>
                        <input type="text" ng-model="empleado.inHour2">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Hora Salida</span>
                        <input type="text" ng-model="empleado.outHour2">
                    </label>

                    <input class="button button-positive botoneditar" type="button" value="Guardar" ng-click="editarEmpleado(empleado)"/>
                    <input class="button button-assertive botoneditar" type="button" value="Cancelar" ng-click="modal.hide()"/>
            
                </div>
            </form>

        </div>
      </content>
    </div>
</script>